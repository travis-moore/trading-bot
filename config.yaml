# Swing Trading Bot Configuration

# Interactive Brokers Connection
ib_connection:
  host: "127.0.0.1"
  port: 7497  # TWS live=7497, paper=7497, Gateway live=7497, paper=4002
  client_id: 1

# Trading symbols to monitor
symbols:
  - "NVDA"
  - "AAPL"
  - "TSLA"
  # Add more symbols as needed

# Liquidity Analyzer Settings
liquidity_analysis:
  liquidity_threshold: 20000      # Minimum order size to consider a zone
  zone_proximity: 0.25           # Distance from zone to trigger (dollars)
  imbalance_threshold: 0.6       # Order imbalance threshold (0-1)
  num_levels: 100                 # Number of order book levels to analyze

# Trading Rules - Pattern confidence thresholds
trading_rules:
  rejection_support_confidence: 0.65    # Bounce off support
  breakout_up_confidence: 0.70          # Strong buying pressure
  rejection_resistance_confidence: 0.65  # Rejection at resistance
  breakout_down_confidence: 0.70        # Strong selling pressure

# Risk Management
risk_management:
  max_position_size: 2000        # Maximum dollar amount per position
  max_positions: 3               # Maximum concurrent positions
  position_size_pct: 0.02        # Position size as % of account (2%)
  profit_target_pct: 0.50        # Take profit at 50% gain
  stop_loss_pct: 0.30            # Stop loss at 30% loss
  max_hold_days: 30              # Maximum days to hold position

# Order Management
order_management:
  use_bracket_orders: true       # Attach stop loss and take profit to buy orders
  order_timeout_seconds: 60      # Cancel unfilled orders after this time
  price_drift_threshold: 0.10    # Cancel if price drifts more than 10% from limit

# Option Selection
option_selection:
  min_dte: 14                    # Minimum days to expiration
  max_dte: 45                    # Maximum days to expiration
  call_strike_pct: 1.02          # Call strike: 2% OTM
  put_strike_pct: 0.98           # Put strike: 2% OTM

# Bot Operation
operation:
  scan_interval: 5              # Seconds between scans
  market_data_refresh: 5         # Seconds between depth data updates
  enable_paper_trading: true     # Use paper trading account
  log_level: "INFO"              # DEBUG, INFO, WARNING, ERROR

# Safety Features
safety:
  require_manual_approval: false  # Require approval before trades
  max_daily_loss: 500            # Max loss per day (dollars)
  trading_hours_only: true       # Only trade during market hours
  emergency_stop: false          # Emergency stop all trading

strategies:
  # Multiple swing trading instances with different parameters
  # Each strategy instance has its own:
  #   - budget: Max capital for this strategy (committed on entry, released on exit)
  #   - max_positions: Max concurrent positions for this strategy instance
  # Losses increase drawdown, wins recover it up to budget cap
  swing_conservative:
    type: swing_trading
    enabled: true
    budget: 2000                    # Max budget for this strategy ($)
    max_positions: 2                # Max concurrent positions
    zone_proximity_pct: 0.005       # 0.5% proximity (wider)
    min_confidence: 0.75            # Higher confidence required
    zscore_threshold: 3.5           # Stricter level filtering

  swing_aggressive:
    type: swing_trading
    enabled: true
    budget: 1500                    # Smaller budget for aggressive strategy
    max_positions: 2                # Max concurrent positions
    zone_proximity_pct: 0.003       # 0.3% proximity (tighter)
    min_confidence: 0.65            # Lower confidence threshold
    zscore_threshold: 2.5           # More levels considered

  # Multiple scalping instances
  scalp_quick:
    type: scalping
    enabled: true
    budget: 1000                    # Tighter budget for quick scalps
    max_positions: 1                # Scalping = one position at a time
    imbalance_entry_threshold: 0.7
    max_ticks_without_progress: 3   # Quick exit

  scalp_patient:
    type: scalping
    enabled: true
    budget: 1500
    max_positions: 1                # Scalping = one position at a time
    imbalance_entry_threshold: 0.8  # Higher threshold
    max_ticks_without_progress: 7   # More patience
